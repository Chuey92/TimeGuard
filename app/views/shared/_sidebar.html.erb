<div data-controller="sidebar" data-sidebar-target="sidebar" class="sidebar navbar-lewagon collapsed" id="sidebar">
  <div class="sidebar-toggle">
    <button class="btn btn-toggle fa-solid fa-plus" data-action="sidebar#toggle" data-sidebar-target="toggle" id="toggleSidebar" aria-label="Toggle Sidebar"></button>
  </div>



  <ul class="sidebar-nav" id="sidebarNav">
    <% if user_signed_in? %>
      <li class="nav-item">
        <%= link_to root_path, class: "nav-link" do %>
          <i class="fas fa-home"></i> <span>Home</span>
        <% end %>
      </li>

      <!-- Allowing non-manager users access to Dashboard -->
      <li class="nav-item">
        <%= link_to dashboard_path, class: "nav-link" do %>
          <i class="fas fa-chart-line"></i> <span>Dashboard</span>
        <% end %>
      </li>

      <!-- Allowing non-manager users access to Schedules -->
      <li class="nav-item">
        <%= link_to schedules_path, class: "nav-link" do %>
          <i class="fas fa-calendar-alt"></i> <span>Schedule</span>
        <% end %>
      </li>

      <!-- Sites link is only visible to managers -->
      <% if current_user.manager? %>
        <li class="nav-item">
          <%= link_to sites_path, class: "nav-link" do %>
            <i class="fas fa-map-marker-alt"></i> <span>Sites</span>
          <% end %>
        </li>
      <% end %>

      <!-- Shifts link is visible to all users -->
      <li class="nav-item">
        <%= link_to shifts_path, class: "nav-link" do %>
          <i class="fas fa-clock"></i> <span>Shifts</span>
        <% end %>
      </li>

      <!-- Additional link for non-managers -->
      <% unless current_user.manager? %>
        <li class="nav-item">
          <%= link_to clock_in_page_path, class: "nav-link" do %>
            <i class="fas fa-clock"></i> <span>Clock In</span>
          <% end %>
        </li>
      <% end %>

      <li class="nav-item">
        <%= link_to requests_path, class: "nav-link" do %>
          <i class="fas fa-envelope"></i> <span>Requests</span>
        <% end %>
      </li>
    <% end %>

  </ul>

  <ul class="sidebar-nav user-avatar mt-auto">
    <% if user_signed_in? %>
      <li class="nav-item dropdown">
        <a href="#" class="nav-link avatar" id="navbarDropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
         
        </a>
        <div class="dropdown-menu dropdown-menu-end" aria-labelledby="Dropdown">
          <%= link_to "Log out", destroy_user_session_path, method: :delete, data: { turbo_method: :delete }, class: "dropdown-item" %>
        </div>
      </li>
    <% end %>
  </ul>
</div>
